<!doctype html>
<html lang="%paraglide.lang%" class="dark">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="preconnect" href="https://fonts.googleapis.com"/>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet">
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-SJ77H41T0Q"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'G-SJ77H41T0Q');
		</script>
		<script>
			(function(){
				try {
					const stored = localStorage.getItem('theme');
					const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
					const isDark = stored === 'dark' || (!stored && prefersDark);
					if(isDark) document.documentElement.classList.add('dark');
					else document.documentElement.classList.remove('dark');

					// Sync theme-color meta to match current theme for better PWA splash on Android/Edge
					const setThemeMeta = (dark) => {
						let meta = document.querySelector('meta[name="theme-color"]');
						if(!meta){
							meta = document.createElement('meta');
							meta.name = 'theme-color';
							document.head.appendChild(meta);
						}
						meta.setAttribute('content', dark ? '#0b1220' : '#ffffff');
					};
					setThemeMeta(isDark);
					// Keep in sync with system changes when no explicit theme stored
					if(!stored){
						try {
							window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e)=>setThemeMeta(e.matches));
						} catch {}
					}
				} catch {}
			})();
		</script>
		<meta name="theme-color" content="#0b1220" media="(prefers-color-scheme: dark)">
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
		<link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" sizes="180x180">
		<link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
